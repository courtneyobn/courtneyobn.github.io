<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Temple Building Changes: 1920s to 2025</title>
    <style>
        /* General Reset and Container Styling */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            background-color: #f4f4f4;
        }

        .header-container {
            width: 100%;
            max-width: 900px;
            margin-bottom: 20px;
            text-align: center;
        }

        h1 {
            font-size: 1.5em;
            color: #333;
            margin: 0 0 5px 0;
        }

        .instructions {
            font-size: 0.9em;
            color: #666;
            margin-top: 0;
        }

        /* Slider Specific Styles */
        .slider-container {
            /* Set a max-width for the slider and use aspect ratio for consistent height */
            max-width: 900px; 
            width: 100%;
            position: relative;
            /* Use a 4:3 aspect ratio for the image container */
            aspect-ratio: 4 / 3;
            overflow: hidden;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            border: 1px solid #ccc;
            cursor: grab; /* Cursor hint for desktop */
            user-select: none; /* Prevents selecting image/text while dragging */
        }

        .slider-container:active {
            cursor: grabbing;
        }

        /* Image Styling */
        .slider-image {
            position: absolute;
            top: 0;
            left: 0;
            /* The image must fill the container */
            width: 100%;
            height: 100%;
            /* Ensure the image covers the area without distortion */
            object-fit: cover; 
            pointer-events: none; /* Allows dragging through the image */
        }

        .image-before {
            /* This image is the one that gets clipped/resized */
            width: 50%; /* Initial split at 50% */
            z-index: 2; /* Ensure it's on top of the 'after' image */
        }

        /* Handle Styling */
        .slider-handle {
            /* The vertical bar separating the two images */
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            height: 100%;
            width: 4px;
            background-color: #fff;
            z-index: 3;
            cursor: inherit;
        }

        .slider-handle::after {
            /* The circle icon on the handle */
            content: 'â†”';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 40px;
            height: 40px;
            background-color: #ff5722;
            color: white;
            font-size: 1.5em;
            text-align: center;
            line-height: 40px;
            border-radius: 50%;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
            pointer-events: none;
        }
        
        /* Optional labels for clarity */
        .label {
            position: absolute;
            padding: 5px 10px;
            color: white;
            background-color: rgba(0, 0, 0, 0.6);
            border-radius: 3px;
            font-size: 0.9em;
            z-index: 4;
            user-select: none;
        }
        .label-before {
            top: 10px;
            left: 10px;
        }
        .label-after {
            top: 10px;
            right: 10px;
        }

        /* Mobile Adjustments */
        @media (max-width: 600px) {
            body {
                padding: 10px;
            }
            h1 {
                font-size: 1.2em;
            }
            .instructions {
                font-size: 0.8em;
            }
            .slider-handle::after {
                width: 30px;
                height: 30px;
                font-size: 1.2em;
                line-height: 30px;
            }
        }
    </style>
</head>
<body>

    <div class="header-container">
        <h1>Check out the changes to the Temple Building at the University of Nebraska-Lincoln from the 1920's till 2025</h1>
        <p class="instructions">**Instructions:** Drag the central arrow left or right to reveal the full 'before' (1920s) or 'after' (2025) image.</p>
    </div>

    <div class="slider-container" id="imageSlider">
        <img src="TempleBuilding2025.jpg" alt="Temple Building 2025" class="slider-image image-after"> 
        
        <div class="image-before" id="imageBefore">
             <img src="TempleBuilding1920.jpg" alt="Temple Building 1920s" class="slider-image">
             <span class="label label-before">1920's</span>
        </div>
        
        <span class="label label-after">2025</span>

        <div class="slider-handle" id="sliderHandle"></div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const container = document.getElementById('imageSlider');
            const handle = document.getElementById('sliderHandle');
            const beforeImageWrapper = document.getElementById('imageBefore');
            
            let isDragging = false;
            
            // --- Helper Functions ---
            
            // Get the X coordinate of the pointer (handles both mouse and touch)
            function getPointerX(e) {
                // Check if e is a touch event or a mouse event
                return e.touches ? e.touches[0].clientX : e.clientX;
            }
            
            // Set the width of the before image wrapper and the handle's position
            function setComparison(x) {
                // Get the container's left edge and width
                const containerRect = container.getBoundingClientRect();
                const containerLeft = containerRect.left;
                const containerWidth = containerRect.width;
                
                // Calculate new position relative to the container's left edge
                let newX = x - containerLeft;
                
                // Clamp the position to stay within the container boundaries (0 to containerWidth)
                if (newX < 0) newX = 0;
                if (newX > containerWidth) newX = containerWidth;
                
                // Set the width of the 'before' image wrapper (which clips the image)
                beforeImageWrapper.style.width = `${newX}px`;
                
                // Set the handle's position
                handle.style.left = `${newX}px`;
            }
            
            // --- Event Handlers for Dragging (Mouse & Touch) ---

            function startDrag(e) {
                isDragging = true;
                container.classList.add('grabbing'); 
                // Prevent default behavior to avoid text selection, etc., especially important for touch
                e.preventDefault(); 
            }

            function drag(e) {
                if (!isDragging) return;
                
                // The main logic to update the slider position
                setComparison(getPointerX(e));
            }

            function endDrag() {
                isDragging = false;
                container.classList.remove('grabbing');
            }
            
            // Initial position (center)
            const initialX = container.getBoundingClientRect().left + (container.getBoundingClientRect().width / 2);
            setComparison(initialX);
            
            // --- Event Listeners for Desktop (Mouse) ---
            handle.addEventListener('mousedown', startDrag);
            container.addEventListener('mousemove', drag);
            container.addEventListener('mouseup', endDrag);
            // Listen on the document to stop drag if mouse is released outside the container
            document.addEventListener('mouseup', endDrag); 

            // --- Event Listeners for Mobile (Touch) ---
            handle.addEventListener('touchstart', startDrag, {passive: false}); // Use {passive: false} to allow e.preventDefault()
            container.addEventListener('touchmove', drag, {passive: false});
            container.addEventListener('touchend', endDrag);
            container.addEventListener('touchcancel', endDrag);
        });
    </script>

</body>
</html>